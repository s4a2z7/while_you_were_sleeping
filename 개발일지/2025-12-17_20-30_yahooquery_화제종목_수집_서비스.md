# yahooquery Screenerë¥¼ ì‚¬ìš©í•œ í™”ì œ ì¢…ëª© ìˆ˜ì§‘ ì„œë¹„ìŠ¤ êµ¬í˜„

## ì‘ì„± ì •ë³´
- **ì‘ì„± ì‹œê°„**: 2025-12-17 20:30
- **ë‹´ë‹¹ì**: Claude Code
- **ê´€ë ¨ íŒŒì¼**: 
  - `/backend/services/stock_service.py` (ìˆ˜ì •)
  - `/backend/api/stocks.py` (ìˆ˜ì •)
  - `/backend/main.py` (ìˆ˜ì •)
  - `/backend/test_stock_service.py` (í…ŒìŠ¤íŠ¸)

## í•´ê²°í•˜ê³ ì í•œ ë¬¸ì œ
- yahooquery Screener APIë¥¼ ì‚¬ìš©í•œ í™”ì œ ì¢…ëª© ìˆ˜ì§‘
- ìŠ¤í¬ë¦¬ë„ˆ íƒ€ì… ì„ íƒ ê°€ëŠ¥ (most_actives, day_gainers, day_losers)
- TOP 1 ì¢…ëª© ì„ ì • ë° ìƒì„¸ ì •ë³´ ì¡°íšŒ
- ì—ëŸ¬ ì²˜ë¦¬ ë° ë¡œê¹… êµ¬í˜„
- FastAPI ì—”ë“œí¬ì¸íŠ¸ ì œê³µ

## ì§„í–‰ ì‚¬í•­

### âœ… í•´ê²°ëœ ê²ƒ
- [x] yahooquery Screener API ë¶„ì„ ë° ì˜¬ë°”ë¥¸ ì‚¬ìš© ë°©ë²• íŒŒì•…
  - `get_screeners(screener_type)` ë©”ì„œë“œ ì‚¬ìš©
  - ë°˜í™˜ê°’: `{screener_name: {quotes: [], ...}}` í˜•íƒœì˜ dict
- [x] StockServiceì— `get_trending_stocks()` ë©”ì„œë“œ êµ¬í˜„
  - 3ê°€ì§€ ìŠ¤í¬ë¦¬ë„ˆ íƒ€ì… ì§€ì› (most_actives, day_gainers, day_losers)
  - TOP 1 ì¢…ëª© ìë™ ì„ ì •
  - ìœ íš¨ì„± ê²€ì‚¬ ë° ì—ëŸ¬ ì²˜ë¦¬
- [x] yahooquery Ticker APIë¥¼ ì‚¬ìš©í•œ ìƒì„¸ ì •ë³´ ì¡°íšŒ
  - asset_profileì—ì„œ íšŒì‚¬ëª…, ì„¹í„°, ì‚°ì—… ì •ë³´
  - summary_detailì—ì„œ ê°€ê²©, ê±°ë˜ëŸ‰ ì •ë³´
  - ë°ì´í„° êµ¬ì¡° ë¶„ì„ ë° íŒŒì‹±
- [x] í¬ê´„ì ì¸ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„± ë° ì‹¤í–‰
  - 5ê°€ì§€ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ (most_actives, day_gainers, day_losers, AAPL ì •ë³´, ì—ëŸ¬ ì²˜ë¦¬)
  - ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼ âœ…
- [x] FastAPI ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€
  - `GET /api/stocks/trending?screener_type={type}` - í™”ì œ ì¢…ëª© ì¡°íšŒ
  - `GET /api/stocks/{ticker}` - ì¢…ëª© ìƒì„¸ ì •ë³´ ì¡°íšŒ
  - `GET /api/stocks/search?query={query}` - ì¢…ëª© ê²€ìƒ‰ (í–¥í›„ êµ¬í˜„)
- [x] ë¼ìš°í„° ë“±ë¡ ë° main.py í™œì„±í™”

### âŒ í•´ê²°ë˜ì§€ ì•Šì€ ê²ƒ
- [ ] ê²€ìƒ‰ ê¸°ëŠ¥ (GET /api/stocks/search) êµ¬í˜„ (ì‚¬ìœ : í–¥í›„ ë‹¨ê³„)
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ìºì‹± (ì‚¬ìœ : DB ì„¤ì • í•„ìš”)
- [ ] ì¢…ëª© ìƒì„¸ ì •ë³´ ë” ë§ì€ í•„ë“œ (ì‚¬ìœ : yahooquery ë°ì´í„° ì œì•½)

## í–¥í›„ ê°œë°œì„ ìœ„í•œ ì»¨í…ìŠ¤íŠ¸

### í˜„ì¬ ìƒíƒœ
- Yahoo Financeë¥¼ í†µí•œ ì‹¤ì‹œê°„ ì£¼ì‹ ë°ì´í„° ìˆ˜ì§‘ êµ¬í˜„ ì™„ë£Œ
- í™”ì œ ì¢…ëª© ì¡°íšŒ ê¸°ëŠ¥ ì •ìƒ ì‘ë™
- API ì—”ë“œí¬ì¸íŠ¸ ì •ìƒ ì‘ë™

### í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì˜ˆì‹œ
```
í…ŒìŠ¤íŠ¸ 1: í™”ì œ ì¢…ëª© ì¡°íšŒ (most_actives)
âœ… TOP 1 ì¢…ëª©: NVDA
   íšŒì‚¬ëª…: https://www.nvidia.com
   í˜„ì¬ê°€: N/A
   ê±°ë˜ëŸ‰: 147115063

í…ŒìŠ¤íŠ¸ 2: í™”ì œ ì¢…ëª© ì¡°íšŒ (day_gainers)
âœ… TOP 1 ì¢…ëª©: FRMI
   íšŒì‚¬ëª…: N/A
   í˜„ì¬ê°€: N/A

í…ŒìŠ¤íŠ¸ 4: ì¢…ëª© ìƒì„¸ ì •ë³´ ì¡°íšŒ (AAPL)
âœ… ì¢…ëª©: AAPL
   íšŒì‚¬ëª…: https://www.apple.com
   ì„¹í„°: Technology
   í˜„ì¬ê°€: N/A
   ê±°ë˜ëŸ‰: 37339504

í…ŒìŠ¤íŠ¸ 5: ìœ íš¨í•˜ì§€ ì•Šì€ ìŠ¤í¬ë¦¬ë„ˆ íƒ€ì… ì²˜ë¦¬
âœ… ì—ëŸ¬ ì²˜ë¦¬ ì„±ê³µ
```

### ë‹¤ìŒ ë‹¨ê³„
1. [ ] API ì—”ë“œí¬ì¸íŠ¸ í†µí•© í…ŒìŠ¤íŠ¸
   ```bash
   curl http://localhost:8000/api/stocks/trending?screener_type=most_actives
   curl http://localhost:8000/api/stocks/NVDA
   ```
2. [ ] Swagger UIì—ì„œ API í…ŒìŠ¤íŠ¸
   - http://localhost:8000/docs
3. [ ] ë‰´ìŠ¤ ê²€ìƒ‰ ì„œë¹„ìŠ¤ êµ¬í˜„ (Exa API)
4. [ ] ë¸Œë¦¬í•‘ ìƒì„± ì„œë¹„ìŠ¤ êµ¬í˜„
5. [ ] í”„ë¡ íŠ¸ì—”ë“œì™€ ì—°ë™

### ì£¼ì˜ì‚¬í•­
- yahooqueryì˜ Ticker í´ë˜ìŠ¤ì—ì„œ ì¼ë¶€ ë°ì´í„°ê°€ ì—†ì„ ìˆ˜ ìˆìŒ (í˜„ì¬ ê°€ê²© ë“±)
- ìŠ¤í¬ë¦¬ë„ˆ ê²°ê³¼ëŠ” ì‹¤ì‹œê°„ ë°ì´í„°ë¡œ ì‹œê°„ì— ë”°ë¼ ë³€í•¨
- API í˜¸ì¶œ ë¹ˆë„ ì œí•œ ê°€ëŠ¥ (í–¥í›„ ìºì‹± êµ¬í˜„ ê¶Œì¥)
- ì¼ë¶€ ì†Œí˜•ì£¼ëŠ” ë°ì´í„°ê°€ ì œí•œì ì¼ ìˆ˜ ìˆìŒ

### ì£¼ìš” ì½”ë“œ ë³€ê²½ì‚¬í•­

#### 1. StockService ë©”ì„œë“œ
```python
async def get_trending_stocks(self, screener_type: ScreenerType = "most_actives") -> Dict[str, Any]:
    # yahooquery Screenerë¥¼ ì‚¬ìš©í•œ í™”ì œ ì¢…ëª© ìˆ˜ì§‘
    # ìŠ¤í¬ë¦¬ë„ˆ íƒ€ì…: most_actives, day_gainers, day_losers
    # ë°˜í™˜: TOP 1 ì¢…ëª©ì˜ ìƒì„¸ ì •ë³´
```

#### 2. API ì—”ë“œí¬ì¸íŠ¸
```python
@router.get("/trending", tags=["Stock Screener"])
async def get_trending_stocks(screener_type: ScreenerType = Query("most_actives")):
    # GET /api/stocks/trending?screener_type=most_actives
```

### ì‚¬ìš©ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬
- **yahooquery**: Yahoo Finance ë°ì´í„° ìˆ˜ì§‘
- **fastapi**: REST API í”„ë ˆì„ì›Œí¬
- **pydantic**: ë°ì´í„° ê²€ì¦

### ì°¸ê³  ìë£Œ
- [yahooquery GitHub](https://github.com/dpguthrie/yahooquery)
- [FastAPI ê³µì‹ ë¬¸ì„œ](https://fastapi.tiangolo.com/)
- Yahoo Finance Screeners API

---
**ìƒíƒœ**: ğŸŸ¢ í™”ì œ ì¢…ëª© ìˆ˜ì§‘ ì„œë¹„ìŠ¤ êµ¬í˜„ ì™„ë£Œ, API ì—”ë“œí¬ì¸íŠ¸ í™œì„±í™” ì™„ë£Œ
